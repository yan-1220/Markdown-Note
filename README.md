# 📝 Markdown Note Cloud

純前端的 Markdown 筆記應用，支援思維導圖視覺化、即時預覽、全文搜尋，完全離線運行。

## ✨ 核心特色

### 🎨 視覺體驗
- **三種視圖模式** - Markdown 閱讀 / 即時編輯 / 思維導圖
- **優化對比設計** - 強調文字白色發光效果，一般文字低調呈現，層次分明
- **純黑主題** - 護眼深色界面（#000000 背景 + #3b82f6 藍色點綴）
- **響應式布局** - 完美支援桌面與行動裝置

### 🧠 思維導圖
- **互動式視覺化** - 基於 Markmap + D3.js 的思維導圖渲染
- **自動轉換** - Markdown 內容一鍵轉為樹狀結構
- **視覺對比** - 強調節點（粗體）白色發光，一般節點深灰低調

### 📝 編輯功能
- **即時預覽** - 編輯模式下左右分欄，即時查看渲染結果
- **自動儲存** - 1.5 秒防抖自動保存至 IndexedDB
- **完整語法** - 支援 GFM（GitHub Flavored Markdown）
- **語法高亮** - 程式碼區塊自動高亮（highlight.js）

### 🔍 搜尋與管理
- **全文檢索** - 搜尋標題與內容，關鍵字黃色高亮
- **時間標記** - 相對時間顯示（"2 小時前"），完整時間戳記錄
- **標籤系統** - 筆記分類與過濾
- **筆記總覽** - 支援排序、搜尋、標籤篩選

### 🔒 安全與隱私
- **XSS 防護** - DOMPurify 清理所有 HTML 輸出
- **本地儲存** - IndexedDB 儲存，資料不離開本機
- **離線優先** - 無需網路連線，完全本地運行

## 🚀 快速開始

### 方式一：直接開啟
```bash
# Windows
start index.html

# macOS
open index.html

# Linux
xdg-open index.html
```

### 方式二：本地伺服器（推薦）
```bash
# Python
python -m http.server 8000

# Node.js
npx http-server -p 8000
```

開啟瀏覽器訪問 `http://localhost:8000`

## 📖 使用指南

### 基本操作
| 操作 | 說明 |
|------|------|
| **新增筆記** | 點擊「➕ 新增筆記」按鈕 |
| **編輯筆記** | 點擊「✏️ 編輯」進入編輯模式 |
| **查看思維導圖** | 點擊「🧠 Mind Map」切換至思維導圖視圖 |
| **搜尋筆記** | 左側搜尋框輸入關鍵字，按 `Esc` 清除 |
| **刪除筆記** | 點擊右下角「🗑️ 刪除筆記」按鈕 |
| **筆記總覽** | 點擊「📋 總覽」查看所有筆記 |

### 三種視圖模式

**1. Markdown 模式**（預設）
- 全螢幕渲染顯示
- 適合閱讀與展示
- 強調文字白色發光，一般文字中灰色

**2. 編輯模式**
- 左側編輯器 + 右側即時預覽
- 支援可調整分欄比例
- 自動儲存（1.5 秒防抖）

**3. 思維導圖模式**
- 互動式 D3.js 樹狀圖
- 滑鼠滾輪縮放，拖曳平移
- 展開/收合節點，全螢幕查看

### Markdown 語法範例

```markdown
# 一級標題（白色發光）
## 二級標題（白色發光）
### 三級標題（白色發光）

**強調文字**（白色發光，最粗字重）
*斜體文字*（深灰色）

- 無序列表
- 項目 2

1. 有序列表
2. 項目 2

[連結](https://example.com)

> 引用區塊（深灰色）

`inline code`

\`\`\`javascript
// 程式碼區塊（自動語法高亮）
const hello = "world";
\`\`\`

| 表頭 1 | 表頭 2 |
|--------|--------|
| 儲存格 | 儲存格 |
```

## 🏗️ 技術架構

### 核心技術
- **單檔架構** - 所有代碼內嵌於 `index.html`（無需建構工具）
- **前端框架** - 原生 JavaScript + Tailwind CSS
- **資料儲存** - Dexie.js (IndexedDB) + localStorage 快取
- **Markdown 處理** - marked.js + DOMPurify
- **語法高亮** - highlight.js
- **思維導圖** - Markmap + D3.js

### 資料結構（IndexedDB）
```javascript
{
  id: "unique-id",              // 主鍵
  title: "筆記標題",
  content: "# Markdown 內容",
  tags: ["標籤1", "標籤2"],     // 標籤陣列
  createdAt: "2025-11-17T10:30:00Z",
  updatedAt: "2025-11-17T14:20:00Z"
}
```

### 視覺設計規範

**顏色對比**（Markdown 預覽 & 思維導圖）
- 一般文字：`#9ca3af` / `#374151`（中灰/深灰）
- 強調文字：`#ffffff`（純白 + 三層發光）
- 標題 H1-H3：`#ffffff`（白色 + 發光）
- 標題 H4-H6：`#d1d5db` / `#9ca3af`（淺灰/中灰）
- 斜體/引用：`#6b7280`（深灰）
- 連結：`#60a5fa`（藍色）

**字重對比**
- 一般文字：400（正常）
- 強調文字：900（最粗）
- 標題 H1-H2：900
- 標題 H3-H6：800-700

## 📂 專案檔案

```
markdown-note-cloud/
├── index.html                 # 主應用程式（單檔完整版本）
├── README.md                  # 專案說明（本檔案）
├── CLAUDE.md                  # Claude Code 開發指引
├── plan.txt                   # 專案規格書
├── PROJECT_SETUP_GUIDE.md     # 開發環境設定
├── GITHUB_UPLOAD_GUIDE.md     # Git 工作流程
└── markdown-notes-auto-backup-*.json  # 自動備份檔案
```

## 🎯 已實現功能

- ✅ IndexedDB 持久化儲存（Dexie.js）
- ✅ 全文搜尋（標題 + 內容）+ 關鍵字高亮
- ✅ 自動儲存（1.5 秒防抖）
- ✅ 三種視圖：Markdown / 編輯 / 思維導圖
- ✅ 程式碼語法高亮（highlight.js）
- ✅ 思維導圖視覺化（Markmap + D3.js）
- ✅ 標籤系統（多標籤支援）
- ✅ 筆記總覽（排序 + 搜尋 + 篩選）
- ✅ 時間標記（相對時間 + 完整時間戳）
- ✅ 優化視覺對比（強調文字發光效果）
- ✅ 響應式設計（桌面 + 行動裝置）
- ✅ 純黑主題（#000000 背景）
- ✅ 全螢幕模式（思維導圖）
- ✅ 可調整編輯器/預覽分欄比例

## 🚧 未來規劃

- [ ] 筆記匯出（Markdown / PDF / HTML）
- [ ] 筆記匯入（批次導入）
- [ ] 雲端同步（Firebase / WebDAV）
- [ ] PWA 支援（安裝為應用程式）
- [ ] 快捷鍵系統
- [ ] 筆記加密
- [ ] 版本歷史
- [ ] 協作編輯

## 💾 資料管理

### 儲存位置
- **主儲存**：IndexedDB（瀏覽器內建資料庫）
- **快取**：localStorage（快速存取）
- **位置**：`瀏覽器設定檔目錄/IndexedDB/MarkdownNotesDB`

### 備份與還原
應用程式會自動產生備份檔案（JSON 格式），可手動匯出/匯入。

### 清除資料
清除瀏覽器資料會同時刪除所有筆記，請定期備份。

## 📄 授權

MIT License

## 🤝 貢獻

歡迎提交 Issue 或 Pull Request！

---

**版本**: 2.0.0
**最後更新**: 2025-11-17
**開發工具**: Claude Code
